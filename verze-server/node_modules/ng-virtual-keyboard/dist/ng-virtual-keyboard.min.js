!function(e){e.module("ng-virtual-keyboard",[]).constant("VKI_CONFIG",{}).service("ngVirtualKeyboardService",["VKI_CONFIG",function(e){var n=function(e){var t;if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var r=0,o=e.length;r<o;r++)t[r]=n(e[r]);return t}if(e instanceof Object){t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=n(e[a]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")},t=function(e){var n,t=$(e);return t&&(n=$(e).getkeyboard()),n};return{attach:function(t,r,o){var a=n(e);r=r||{};for(var i in r)r.hasOwnProperty(i)&&(a[i]=r[i]);if(a.accepted=r.accepted||o,r.autoUpdateModel&&(a.change=r.change||o),a.events){var u=function(e){return function(n,t,r){a.events[e](n,$(this).data("keyboard"),this)}};for(var c in a.events)$(t).on(c,u(c))}var f=$(t).keyboard(a);if(f&&a.extensions)for(var s in a.extensions){var d=a.extensions[s];d?f[s](d):f[s]()}},getKeyboard:function(e){return t(e)},getKeyboardById:function(e){return t("#"+e)}}}]).directive("ngVirtualKeyboard",["ngVirtualKeyboardService","$timeout",function(e,n){return{restrict:"A",require:"?ngModel",scope:{config:"=ngVirtualKeyboard"},link:function(t,r,o,a){var i=r[0];a&&i&&(e.attach(i,t.config,function(e,t,r){n(function(){a.$setViewValue(i.value)})}),t.$on("$destroy",function(){var e=$(i).getkeyboard();e&&e.destroy()}))}}}])}(angular);